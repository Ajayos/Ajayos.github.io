(this["webpackJsonpaccounts.ajayos.in"]=this["webpackJsonpaccounts.ajayos.in"]||[]).push([[17],{380:function(e,t,a){"use strict";var i=a(0),n=a.n(i),r=a(29),s=a(299),c=a(219),l=a(95),o=a(284),d=a(300),j=a(2);const m={"& .MuiCardHeader-action":{mr:0}},x=n.a.forwardRef((e,t)=>{let{border:a=!0,boxShadow:i,children:n,content:x=!0,contentClass:u="",contentSX:b={},darkTitle:h,secondary:O,shadow:p,sx:f={},title:g,...v}=e;const y=Object(r.a)();return Object(j.jsxs)(s.a,{ref:t,...v,sx:{border:a?"1px solid":"none",borderColor:"dark"===y.palette.mode?y.palette.background.default:y.palette.primary[200]+75,":hover":{boxShadow:i?p||("dark"===y.palette.mode?"0 2px 14px 0 rgb(33 150 243 / 10%)":"0 2px 14px 0 rgb(32 40 45 / 8%)"):"inherit"},...f},children:[!h&&g&&Object(j.jsx)(c.a,{sx:m,title:g,action:O}),h&&g&&Object(j.jsx)(c.a,{sx:m,title:Object(j.jsx)(l.a,{variant:"h3",children:g}),action:O}),g&&Object(j.jsx)(o.a,{}),x&&Object(j.jsx)(d.a,{sx:b,className:u,children:n}),!x&&n]})});t.a=x},385:function(e,t,a){"use strict";var i=a(0),n=a(172);t.a=()=>{const e=Object(i.useContext)(n.b);if(!e)throw new Error("context must be use inside provider");return e}},617:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),r=a(8),s=a(60),c=a(6),l=a(29),o=a(455),d=a(169),j=a(294),m=a(284),x=a(214),u=a(217),b=a(637),h=a(95),O=a(368),p=a(413),f=a(447),g=a(387),v=a(388),y=a(380),N=a(385),E=a(170),R=a(2);const S=Object(c.a)("div")(e=>{let{theme:t}=e;return{backgroundColor:"dark"===t.palette.mode?t.palette.background.default:t.palette.primary.light,minHeight:"100vh"}}),C=e=>{let{children:t}=e;return Object(R.jsx)(y.a,{sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},content:!1,children:Object(R.jsx)(d.a,{sx:{p:{xs:2,sm:3,xl:5}},children:t})})},w={MISSING_EMAIL:{email:"Email is required."},INVALID_EMAIL_FORMAT:{email:"Invalid email format."},ACCOUNT_EXISTS:{email:"Account already exists."},OTP_CREATE_FAILED:{email:"Unable to generate OTP. Please try again."},OTP_LOCKED:{email:"OTP locked due to failed attempts."},TEMPORARY_OTP_LOCKED:{email:"Too many attempts. Please wait before retrying."},INTERNAL_SERVER_ERROR:{submit:"An unexpected error occurred. Please try again."}},A=v.a().shape({firstName:v.c().required("First name is required"),lastName:v.c().required("Last name is required"),email:v.c().email("Invalid email format").required("Email is required")});t.default=()=>{const e=Object(l.a)(),t=Object(O.a)(e.breakpoints.down("md")),{register:a}=Object(N.a)(),[c,d]=n.a.useState(null),v=new URLSearchParams(Object(r.n)().search),y=v.get("to");Object(i.useEffect)(()=>{const e=v.get("error");d("auth_failed"===e?"Authentication failed. Please try again.":"account_not_active"===e?"Your account is not active. Please check your email for activation instructions.":"invalid_credentials"===e?"Invalid email or password. Please try again.":null)},[]);const _=Object(i.useRef)(!0);Object(i.useEffect)(()=>()=>{_.current=!1},[]);const I=e=>{window.location.href=`https://api.ajayos.in/accounts/oauth/${e}`};return Object(R.jsx)(S,{children:Object(R.jsx)(x.a,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:Object(R.jsx)(x.a,{item:!0,xs:12,children:Object(R.jsx)(x.a,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:Object(R.jsx)(x.a,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:Object(R.jsx)(C,{children:Object(R.jsxs)(x.a,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[Object(R.jsx)(x.a,{item:!0,xs:12,children:Object(R.jsxs)(u.a,{alignItems:"center",spacing:1,children:[Object(R.jsx)(h.a,{variant:t?"h3":"h2",color:e.palette.secondary.main,children:"AOS Register"}),Object(R.jsx)(h.a,{variant:"caption",fontSize:"16px",textAlign:"center",children:"Enter your details to get started"})]})}),Object(R.jsx)(x.a,{item:!0,xs:12,children:Object(R.jsxs)(u.a,{direction:"row",spacing:2,justifyContent:"center",children:[Object(R.jsx)(j.a,{fullWidth:!0,variant:"outlined",startIcon:Object(R.jsx)(p.a,{}),onClick:()=>I("google"),children:"Google"}),Object(R.jsx)(j.a,{fullWidth:!0,variant:"outlined",startIcon:Object(R.jsx)(f.a,{}),onClick:()=>I("github"),children:"GitHub"})]})}),c&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(x.a,{item:!0,xs:12}),Object(R.jsxs)(x.a,{item:!0,xs:12,children:[Object(R.jsx)(o.a,{error:!0,sx:{mt:-1,mb:1,textAlign:"center"},children:c})," "]})]}),Object(R.jsx)(x.a,{item:!0,xs:12,children:Object(R.jsx)(m.a,{children:"OR"})}),Object(R.jsx)(x.a,{item:!0,xs:12,children:Object(R.jsx)(g.a,{initialValues:{firstName:"",lastName:"",email:""},validationSchema:A,onSubmit:async(e,t)=>{let{setSubmitting:i,setErrors:n,setStatus:r}=t;try{await a(e.email,`${e.firstName} ${e.lastName}`),_.current&&i(!1),_.current&&(window.location.href=`/verify?id=${btoa(e.email).replace(/=/g,"")}${y?`&to=${y}`:""}`)}catch(l){var s,c;const e=(null===l||void 0===l||null===(s=l.response)||void 0===s||null===(c=s.data)||void 0===c?void 0:c.code)||"INTERNAL_SERVER_ERROR",t=w[e]||w.INTERNAL_SERVER_ERROR;_.current&&(r({success:!1}),n(t)),_.current&&i(!1)}},children:e=>{let{handleBlur:t,handleChange:a,handleSubmit:i,values:n,touched:r,errors:s,isSubmitting:c}=e;return Object(R.jsx)("form",{noValidate:!0,onSubmit:i,children:Object(R.jsxs)(x.a,{container:!0,spacing:2,children:[Object(R.jsx)(x.a,{item:!0,xs:12,sm:6,children:Object(R.jsx)(b.a,{fullWidth:!0,label:"First Name",name:"firstName",value:n.firstName,onBlur:t,onChange:a,error:r.firstName&&Boolean(s.firstName),helperText:r.firstName&&s.firstName})}),Object(R.jsx)(x.a,{item:!0,xs:12,sm:6,children:Object(R.jsx)(b.a,{fullWidth:!0,label:"Last Name",name:"lastName",value:n.lastName,onBlur:t,onChange:a,error:r.lastName&&Boolean(s.lastName),helperText:r.lastName&&s.lastName})}),Object(R.jsx)(x.a,{item:!0,xs:12,children:Object(R.jsx)(b.a,{fullWidth:!0,label:"Email Address",name:"email",value:n.email,onBlur:t,onChange:a,error:r.email&&Boolean(s.email),helperText:r.email&&s.email})}),Object(R.jsx)(x.a,{item:!0,xs:12,children:Object(R.jsx)(E.a,{children:Object(R.jsx)(j.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",disabled:c,children:c?"Submitting...":"Submit"})})})]})})}})}),Object(R.jsxs)(x.a,{item:!0,xs:12,children:[Object(R.jsx)(h.a,{component:s.b,to:"/login",variant:"subtitle1",sx:{textDecoration:"none",textAlign:"center",display:"block"},children:"Already have an account?"}),Object(R.jsx)(u.a,{direction:"row",spacing:2,justifyContent:"center",sx:{mt:1},children:[["Terms","https://terms.ajayos.in/"],["Privacy","https://privacy.ajayos.in/"],["Github","https://github.com/ajayos"],["Home","https://ajayos.in"]].map(e=>{let[t,a]=e;return Object(R.jsx)(h.a,{variant:"caption",component:s.b,to:a,target:"_blank",sx:{textDecoration:"none"},children:t},t)})})]})]})})})})})})})}}}]);